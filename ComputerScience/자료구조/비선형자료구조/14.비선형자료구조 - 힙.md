# ğŸ“Œ í™(Heap)
- 2021.10.19(í™”)
- ê°•ì˜ : ë¹„ì„ í˜• ìë£Œêµ¬ì¡° 71~75ê°•
  
<br>

### ğŸ‘‰ í™
- ìµœëŒ€ê°’ í˜¹ì€ ìµœì†Œê°’ì„ ë¹ ë¥´ê²Œ ì°¾ê¸° ìœ„í•´ ì™„ì „ì´ì§„íŠ¸ë¦¬ í˜•íƒœë¡œ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” ìë£Œ êµ¬ì¡°
- í™ ëŒ€í‘œ ì†ì„±
  - ì •ë ¬ : ê° ë…¸ë“œì˜ ê°’ì€ ìì‹ ë…¸ë“œê°€ ê°€ì§„ ê°’ë³´ë‹¤ ì‘ê±°ë‚˜ í˜¹ì€ í° ìˆœì„œëŒ€ë¡œ ì •ë ¬
  - í˜•íƒœ : íŠ¸ë¦¬ì˜ í˜•íƒœëŠ” ì™„ì „ì´ì§„íŠ¸ë¦¬ ëª¨ì–‘
- í™ ëª¨ì–‘
  - ìµœì†Œ í™ : ë¶€ëª¨ ë…¸ë“œì˜ ê°’ì´ ìì‹ ë…¸ë“œì˜ ê°’ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì™„ì „ì´ì§„íŠ¸ë¦¬
  - ìµœëŒ€ í™ : ë¶€ëª¨ ë…¸ë“œì˜ ê°’ì´ ìì‹ ë…¸ë“œì˜ ê°’ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì€ ì™„ì „ì´ì§„íŠ¸ë¦¬
- í™ êµ¬í˜„
  - ì™„ì „ì´ì§„íŠ¸ë¦¬ ì„±ì§ˆì„ ë§Œì¡±í•˜ê¸° ë•Œë¬¸ì— 1ì°¨ì› ë°°ì—´ë¡œ í‘œí˜„ ê°€ëŠ¥í•˜ë‹¤
  - í˜„ì¬ ë…¸ë“œëŠ” N, ë¶€ëª¨ ë…¸ë“œ (N-1)/2, ì™¼ìª½ ìì‹ ë…¸ë“œ (N*2)+1, ì˜¤ë¥¸ìª½ ìì‹ ë…¸ë“œ (N*2)+2
- êµ¬í˜„ ë©”ì„œë“œ
  - ë…¸ë“œ ìœ„ì¹˜ ê³„ì‚° : `Heap.parentIndex()`, `Heap.leftChildIndex()`, `Heap.rightChildIndex()`
  - ë…¸ë“œ ê°’ í™•ì¸ : `Heap.parent()`, `Heap.leftChild()`, `Heap.rightChild`
  - ë…¸ë“œ ì¶”ê°€, ì‚­ì œ(ì¶”ì¶œ) : `Heap.insert()`, `Heap.bubbleUp`, `Heap.extract()`, `Heap.bubbleDown`

<br> 




### ğŸ‘‰ í™ êµ¬í˜„ (1) 
```javascript
// ìµœì†Œ í™(MinHeap)

// Heap()
function Heap(){
  this.items = [];
};

// swap() : ë°°ì—´ ë‚´ì˜ ë‘ ìš”ì†Œ ìœ„ì¹˜ë¥¼ ë³€ê²½ 
Heap.prototype.swap = function(index1, index2){
  let temp = this.items[index1];
  this.items[index1] = this.items[index2];
  this.items[index2] = temp;
};

// parentIndex()
Heap.prototype.parentIndex = function(index){
  return Math.floor((index-1)/2);
};

// leftChildIndex()
Heap.prototype.leftChildIndex = function(index){
  return Math.floor((index*2)+1);
};

// rightChildIndex()
Heap.prototype.rightChildIndex = function(index){
  return Math.floor((index*2)+2);
};

// parent()
Heap.prototype.parent = function(index){
  return this.items[this.parantIndex(index)];
};

// leftChild()
Heap.prototype.leftChild = function(index){
  return this.items[this.leftChildIndex(index)];
};

// rightChild() 
Heap.prototype.rightChild = function(index){
  return this.items[this.rightChildIndex(index)];
};

// peek() : í˜„ì¬ ì •ë ¬ëœ ìµœì†Œ, ìµœëŒ€ ìš”ì†Œê°’ ë°˜í™˜
Heap.prototype.peek = function(){
  return this.items[0];
};

// size() : í˜„ì¬ ë°°ì—´ ë‚´ í¬ê¸° ë°˜í™˜
Heap.prototype.size = function(){
  return this.items.length;
};

```

<br>



### ğŸ‘‰ í™ êµ¬í˜„ (2) 
```javascript
// ìµœì†Œ í™(Min Heap)
// insert()
Heap.prototype. = function(item){
  this.items[this.size()] = item;
  this.bubbleUp();
};


// bubbleUp() : ì¶”ê°€ëœ ë…¸ë“œ ìœ„ì¹˜ ì •ë ¬
Heap.prototype. = function(){
  let index = this.size() - 1;
  while(this.parent(index) && this.parent(index) > this.items[index]){
    this.swap(this.parentIndex(index), index);
    index = this.parentIndex(index);
  }
};
```

<br>



### ğŸ‘‰ í™ êµ¬í˜„ (3) 
```javascript
// ìµœì†Œ í™(MinHeap)

// extract() : root node ë°˜í™˜ ë° ì‚­ì œ
Heap.prototype. = function(){
  let item = this.items[0];
  this.items[0] = this.items[this.size() - 1];
  this.items.pop();
  this.bubbleDown();
  return item;
};

// bubbleDown() : ëŒ€ì²´ëœ root node ìœ„ì¹˜ ì •ë ¬ 
Heap.prototype. = function(){
  let idx = 0;
  while(this.leftChild(idx) && this.leftChild(idx) < this.items[idx] || this.rightChild(idx) < this.items[idx]){
    let childIndex = this.leftChildIndex(index);
    if(this.rightChild(index) && this.rightChild(index) < this.items[childIndex]){
      childIndex = this.rightChildIndex(index);
    }
    this.swap(childIndex, index);
    index = childIndex;
  }
};
```

<br>



### ğŸ‘‰ í™ êµ¬í˜„ (4) 
```javascript
// ìµœëŒ€ í™ (MaxHeap)
// Heap(): ë°°ì—´ ë‚´ ìš”ì†Œë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ìƒì„±ì
function Heap() {
  this.items = [];
}

// swap(): ë°°ì—´ ë‚´ ë‘ ìš”ì†Œ ìœ„ì¹˜ë¥¼ ë³€ê²½
Heap.prototype.swap = function (index1, index2) {
  let tmp = this.items[index1];
  this.items[index1] = this.items[index2];
  this.items[index2] = tmp;
};

// parentIndex(): ë¶€ëª¨ ë…¸ë“œì˜ ìœ„ì¹˜ ë°˜í™˜
Heap.prototype.parentIndex = function (index) {
  return Math.floor((index - 1) / 2);
};

// leftChildIndex(): ì™¼ìª½ ìì‹ ë…¸ë“œì˜ ìœ„ì¹˜ ë°˜í™˜
Heap.prototype.leftChildIndex = function (index) {
  return index * 2 + 1;
};

// rightChildIndex(): ì˜¤ë¥¸ìª½ ìì‹ ë…¸ë“œì˜ ìœ„ì¹˜ ë°˜í™˜
Heap.prototype.rightChildIndex = function (index) {
  return index * 2 + 2;
};

// parent(): ë¶€ëª¨ ë…¸ë“œì˜ ìš”ì†Œ ê°’ ë°˜í™˜
Heap.prototype.parent = function (index) {
  return this.items[this.parentIndex(index)];
};

// leftChild(): ì™¼ìª½ ìì‹ ë…¸ë“œì˜ ìš”ì†Œ ê°’ ë°˜í™˜
Heap.prototype.leftChild = function (index) {
  return this.items[this.leftChildIndex(index)];
};

// rightChild(): ì˜¤ë¥¸ìª½ ìì‹ ë…¸ë“œì˜ ìš”ì†Œ ê°’ ë°˜í™˜
Heap.prototype.rightChild = function (index) {
  return this.items[this.rightChildIndex(index)];
};

// peek(): í˜„ì¬ ì •ë ¬ëœ ìµœì†Œ/ìµœëŒ€ ìš”ì†Œê°’ ë°˜í™˜
Heap.prototype.peek = function () {
  return this.items[0];
};

// size(): í˜„ì¬ ë°°ì—´ ë‚´ í¬ê¸° ë°˜í™˜
Heap.prototype.size = function () {
  return this.items.length;
};

// insert(): ì‹ ê·œ ë…¸ë“œ ì¶”ê°€
Heap.prototype.insert = function (item) {
  this.items[this.size()] = item;
  this.bubbleUp();
};

// bubbleUp(): ì¶”ê°€ëœ ë…¸ë“œ ìœ„ì¹˜ ì •ë ¬
Heap.prototype.bubbleUp = function () {
  let index = this.size() - 1;
  while (this.parent(index) && this.parent(index) < this.items[index]) {
    this.swap(this.parentIndex(index), index);
    index = this.parentIndex(index);
  }
};

// extract(): root ë…¸ë“œ ë°˜í™˜ ë° ì‚­ì œ
Heap.prototype.extract = function () {
  let item = this.items[0];
  this.items[0] = this.items[this.size() - 1];
  this.items.pop();
  this.bubbleDown();
  return item;
};

// bubbleDown(): ëŒ€ì²´ëœ root ë…¸ë“œ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬
Heap.prototype.bubbleDown = function () {
  let index = 0;
  while (
    this.leftChild(index) &&
    (this.leftChild(index) > this.items[index] ||
      this.rightChild(index) > this.items[index])
  ) {
    let childIndex = this.leftChildIndex(index);
    if (
      this.rightChild(index) &&
      this.rightChild(index) > this.items[childIndex]
    ) {
      childIndex = this.rightChildIndex(index);
    }

    this.swap(childIndex, index);
    index = childIndex;
  }
};
```

<br>



