# ğŸ”¥ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¤‘ê¸‰ ê°•ì¢Œ(140ë¶„ ì™„ì„±) ì •ë¦¬

- ì‘ì„±ì¼ : 2022. 03. 27(ì¼)
- ê°•ì˜ : <a href="https://youtu.be/4_WLS9Lj6n4">ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¤‘ê¸‰ ê°•ì¢Œ(140ë¶„ ì™„ì„±)</a>
- ì§„ë„ : (18) Generator

<hr>
<br>

## (18) Generator
### Generator í•¨ìˆ˜
```javascript
function* fn(){
    console.log(1);
    yield 1;
    console.log(2);
    yield 2;
    console.log(3);
    console.log(4);
    yield 3;
    return "finish";
}
```
- GeneratorëŠ” í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ì¼ì‹œì ìœ¼ë¡œ ë©ˆì¶”ì—ˆë‹¤ê°€ ì¬ê°œí•  ìˆ˜ ìˆë‹¤ 
- Generatorí•¨ìˆ˜ë¥¼ ì„ ì–¸í•  ë•ŒëŠ” `*`ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©°, ì‹¤í–‰ì„ ë©ˆì¶”ëŠ” êµ¬ê°„ì€ `yield` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ì§€ì •í•œë‹¤

<br>

### `next()`
```javascript
const a = fn();

a.next();   // output: 1    return: {value: 1, done: false}
a.next();   // output: 2    return: {value: 2, done: false}
a.next();   // output: 3,4  return: {value: 3, done: false}
a.next();   // output:      return: {value: undefined, done: true}
a.next();   // output:      return: {value: undefined, done: true}
a.next();   // output:      return: {value: undefined, done: true}
```
- Generatorí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤
- Generatorí•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” ë°˜í™˜ë°›ì€ ê°ì²´ì— `next()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤
- `next()` ë©”ì„œë“œë¥¼ í†µí•´ ê°€ì¥ ê°€ê¹Œìš´ `yield`ë¥¼ ë§Œë‚ ë•Œê¹Œì§€ë§Œ ì‹¤í–‰ë˜ê³ , ë°ì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤  
- ë°˜í™˜ëœ ë°ì´í„° ê°ì²´ëŠ” `value` ì™€ `done` í”„ë¡œí¼í‹°ë¥¼ ê°€ì§„ë‹¤
    - `value`: `yield`ì™€ í•¨ê»˜ ì§€ì •ëœ ê°’ (ê°’ì„ í•¨ê»˜ ì§€ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´ `undefined`)
    - `done`: Generatorí•¨ìˆ˜ì˜ ì¢…ë£Œ ì—¬ë¶€
- ìˆœíšŒê°€ ì¢…ë£Œëœ ì´í›„, `next()`ë¥¼ ì‚¬ìš©í•˜ë©´ `{value: undefined, done: true}`ì¸ ê°ì²´ë¥¼ ê³„ì†í•´ì„œ ë°˜í™˜í•œë‹¤

<br>


### `return()`
```javascript
const a = fn();

a.next();           // output: 1    return: {value: 1, done: false}
a.next();           // output: 2    return: {value: 2, done: false}
a.return("END");    // output:      return: {value: "END", done: true}
```
- `return()`ì„ ì‚¬ìš©í•˜ë©´ `yeild`ì˜ ë‹¨ê³„ë¥¼ ëª¨ë‘ ê±°ì¹˜ì§€ì•Šê³  í•¨ìˆ˜ë¥¼ ì¢…ë£Œí•  ìˆ˜ ìˆë‹¤

<br>

### `throw()`
```javascript
function* fn(){
    try{
        console.log(1);
        yield 1;
        console.log(2);
        yield 2;
        console.log(3);
        console.log(4);
        yield 3;
        return "finish";
    } catch(e){
        console.log(e);
    }
}

const a = fn();
a.next();                   // output: 1            return: {value: 1, done: false}
a.next();                   // output: 2            return: {value: 2, done: false}
a.throw(new Error('err'));  // output: Error: err   return: {value: undefined, done: true}
```
- 

<br>

## iterableí•œ ì„±ì§ˆì„ ê°–ëŠ” Generator
```javascript
const a = fn();
a[Symbol.iterator]() === a; // true
```
- `iterable`: Symbol.iteratorë¥¼ êµ¬í˜„ë˜ì–´ ìˆì–´ì•¼í•˜ë©°, iteratorë¥¼ ë°˜í™˜í•´ì•¼í•œë‹¤
- `iterator`: `value`ì™€ `done` ì†ì„±ì„ ê°–ëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” `next()`ë©”ì„œë“œë¥¼ ê°–ëŠ”ë‹¤ 
- GeneratorëŠ” iterableí•œ ê°ì²´ì´ë¯€ë¡œ `for of` ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤  

<br>

```javascript
let arr = [1,2,3,4,5];
let itArr = arr[Symbol.iterator]();

let str = "STRING";
let itStr = arr[Symbol.iterator]();
```
- ë°°ì—´ê³¼ ë¬¸ìì—´ì€ `iterable`í•œ ì„±ê²©ì„ ê°€ì§€ê³  ìˆì§€ë§Œ `iterator`ëŠ” ì•„ë‹ˆë¯€ë¡œ `iterator`ë¡œ ë§Œë“¤ì–´ì£¼ì–´ì•¼ `next()`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

```javascript
console.log(itArr.next());   // {value: 1, done: false}
console.log(itArr.next());   // {value: 2, done: false}
console.log(itArr.next());   // {value: 3, done: false}
console.log(itArr.next());   // {value: 4, done: false}
console.log(itArr.next());   // {value: 5, done: false}
console.log(itArr.next());   // {value: undefined, done: true}
console.log(itArr.next());   // {value: undefined, done: true}
```

<br>

### `next()` í™œìš©
```javascript
function* fn(){
    const num1 = yield "ì²«ë²ˆì§¸ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”";
    console.log("num1:" + num1);

    const num2 = yield "ë‘ë²ˆì§¸ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”";
    console.log("num2:" + num2);

    return num1+num2;    
}

const a = fn();
a.next();     // output:          , return: {value: "ì²«ë²ˆì§¸ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”", done: false}
a.next(10);   // output: num1 = 10, return: {value: "ë‘ë²ˆì§¸ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”", done: false}
a.next(20);   // output: num2 = 20, return: {value: 30, done: true}
```
- Generatorí•¨ìˆ˜ëŠ” ì™¸ë¶€ë¡œë¶€í„° ê°’ì„ ë°›ì„ ìˆ˜ ìˆë‹¤

<br>

```javascript
function* fn(){
    let index = 0;
    while(tru){
        yeild index++;
    }
}
```
- Generatorí•¨ìˆ˜ëŠ” ê°’ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë‘ì§€ ì•ŠëŠ”ë‹¤. next()ê°€ í˜¸ì¶œëœ ìˆœê°„ì— ê°’ì„ ë§Œë“¤ê¸°ë•Œë¬¸ì— ë©”ëª¨ë¦¬ ê´€ë¦¬ ì¸¡ë©´ì—ì„œ íš¨ìœ¨ì ì´ë‹¤
- ì´ëŸ¬í•œ íŠ¹ì§•ë•Œë¬¸ì—, ë¬´í•œ whileë¬¸ì„ í•¨ìˆ˜ë‚´ë¶€ì— ê°€ì§€ê³  ìˆì–´ë„ breakë¬¸ì´ ì—†ëŠ” ì´ìœ ë¡œ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤

<br>

### `yeild*`
```javascript
function* gen1(){
    yield "W";
    yield "O";
    yield "R";
    yield "L";
    yield "D";
}

function* gen2(){
    yield "Hello,";
    yield* gen1(); 
    yield "!";
}

console.log(...gen2()); // output: Hello, W O R L D !
```
- `yield*` ë’¤ì—ëŠ” ë°˜ë³µê°€ëŠ¥í•œ ê°ì²´ë¥¼ ë„£ì–´ì¤€ë‹¤
- ê·¸ë¦¬ê³  `yeild*`ì„ ê°–ëŠ” Generatorí•¨ìˆ˜ë¥¼ êµ¬ì¡°ë¶„í•´ í• ë‹¹(...)ê³¼ í•¨ê»˜ í˜¸ì¶œí•˜ë©´, doneì˜ ê°’ì´ trueê°€ ë ë–„ê¹Œì§€ ì‹¤í–‰í•œë‹¤