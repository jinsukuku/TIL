# ë²¨ë¡œí¼íŠ¸ì™€ í•¨ê»˜í•˜ëŠ” ëª¨ë˜ ë¦¬ì•¡íŠ¸
- 2022/05/05(ëª©)
- ë²¨ë¡œí¼íŠ¸ì™€ í•¨ê»˜í•˜ëŠ” ëª¨ë˜ ë¦¬ì•¡íŠ¸: https://react.vlpt.us/
- [ì°¸ê³ ] https://ko.reactjs.org/docs/getting-started.html
- ì§„ë„ 
    - 1.7. useState ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°”ë€ŒëŠ” ê°’ ê´€ë¦¬í•˜ê¸°
    - 1.8. input ìƒíƒœ ê´€ë¦¬í•˜ê¸°
    - 1.9. ì—¬ëŸ¬ê°œì˜ input ìƒíƒœ ê´€ë¦¬í•˜ê¸°
    - 1.10. useRef ë¡œ íŠ¹ì • DOM ì„ íƒí•˜ê¸°
    - 1.11. ë°°ì—´ ë Œë”ë§í•˜ê¸°
    - 1.12. useRef ë¡œ useRef ë¡œ ì»´í¬ë„ŒíŠ¸ ì•ˆì˜ ë³€ìˆ˜ ë§Œë“¤ê¸°

<br>

## ğŸ’¬ 1.7. useState ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°”ë€ŒëŠ” ê°’ ê´€ë¦¬í•˜ê¸°
```jsx
// Counter.js ì¶”ê°€ 
import React, {useState} from 'react';

// í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ëŠ” Hooksë¥¼ ì‚¬ìš©í•´ ìƒíƒœê´€ë¦¬ ê°€ëŠ¥ 
function Counter() {
    // onClickì„ ìœ„í•œ í™”ì‚´í‘œ í•¨ìˆ˜ ì¶”ê°€ => console í™•ì¸í•˜ê¸°
    const onIncrease = () => { console.log("+1"); }
    const onDncrease = () => { console.log("-1"); }

    return(
        <div>
            <h1>{number}</h1>
            <button onClick={onIncrease} > +1 </button>
            <button onClick={onDncrease} > -1 </button>
        </div>
    );
}

export default Counter;
```
- ì‚¬ìš©ìì˜ ì¸í„°ë ‰ì…˜ì— ë”°ë¼ ê°’ì´ ë™ì ìœ¼ë¡œ ë³€í™”í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤
- Hooksì˜ ì¢…ë¥˜ ì¤‘ í•˜ë‚˜ì¸ `useState` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ìƒíƒœ ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤
- `Counter.js` ë¥¼ ì¶”ê°€í•˜ê³ , `App.js`ì— ë Œë”ë§í•œë‹¤

<br>

```jsx
import React, {useState} from 'react';

// í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ëŠ” Hooksë¥¼ ì‚¬ìš©í•´ ìƒíƒœê´€ë¦¬ ê°€ëŠ¥ 
function Counter() {
    //// 1. onClickì„ ìœ„í•œ í™”ì‚´í‘œ í•¨ìˆ˜ ì¶”ê°€
    // const onIncrease = () => { console.log("+1"); }
    // const onDncrease = () => { console.log("-1"); }

    // 2. ë™ì ì¸ ê°’(state) ë¶€ì—¬ (importí•„ìš”)
    const [number,setNumber] = useState(10); // [í˜„ì¬ìƒíƒœ, setterí•¨ìˆ˜ëª…]
    const onIncrease = () => { setNumber(number + 1); }
    const onDncrease = () => { setNumber(number - 1); }

    // 3. useState()ë¡œ ì´ˆê¸°í™”í•œ ë³€ìˆ˜ ì‚¬ìš©
    return(
        <div>
            <h1>{number}</h1>
            <button onClick={onIncrease} > +1 </button>
            <button onClick={onDncrease} > -1 </button>
        </div>
    );
}

export default Counter;
```
- `useState` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸°ìœ„í•´ì„œëŠ” importí•´ì£¼ì–´ì•¼í•œë‹¤

<br>

```jsx
// êµ¬ì¡°í™” í• ë‹¹  
const numberState = useState(0);    // 
const number = numberState[0];      //
const setNumber = numberState[1];   //
```
```jsx
// ë¹„êµ¬ì¡°í™” í• ë‹¹
const [number,setNumber] = useState(10); // [í˜„ì¬ìƒíƒœ, setterí•¨ìˆ˜ëª…]
```
- `useState` í•¨ìˆ˜ë¥¼ êµ¬ì¡°í™” í• ë‹¹ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì™€, ë¹„êµ¬ì¡°í™” í• ë‹¹ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì˜ ì°¨ì´ëŠ” ìœ„ì™€ ê°™ë‹¤
- ë¼ê³ ë§Œ ë˜ì–´ìˆê¸¸ë˜ í•œë²ˆ ì½˜ì†”ì— ì°ì–´ì„œ í™•ì¸í•´ë´¤ë‹¤. ì•„ë˜ì˜ ì½”ë“œì™€ ì£¼ì„ì„ ì°¸ê³ í•˜ì

```jsx
// Test Code
import React, {useState} from 'react';

function Counter() {
    // ì–´ë– í•œ ë°°ì—´ì„ ì´ˆê¸°í™”í•˜ê¸°ìœ„í•œ í•¨ìˆ˜ = useState(n)
    // nì€ ë°°ì—´ì˜ ìš”ì†Œë¥¼ ì´ˆê¸°í™”í•  ë•Œ í•„ìš”í•œ ê°’
    const numberStateTest = useState(0);        

    // numberStateTest[0] = í˜„ì¬ ìƒíƒœì— í•´ë‹¹í•˜ëŠ” ìˆ˜ì¹˜ = n
    // numberTest ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ê³ , numberStateTest[0]ì„ ì°¸ì¡°í•˜ë„ë¡ í•œë‹¤
    const numberTest = numberStateTest[0];      

    // numberStateTest[1] = í˜„ì¬ ìƒíƒœì— í•´ë‹¹í•˜ëŠ” ìˆ˜ì¹˜ë¥¼ ë³€ê²½í•˜ê¸°ìœ„í•œ setterí•¨ìˆ˜
    // setNumberTest ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ê³ , numberStateTest[1]ì„ ì°¸ì¡°í•˜ë„ë¡ í•œë‹¤
    const setNumberTest = numberStateTest[1];   

    // consoleì— ì°ì–´ë³´ê¸°ìœ„í•œ í•¨ìˆ˜
    const consoleTest = () => {
        console.log(numberStateTest);
        console.log(numberStateTest[0]);
        console.log(numberStateTest[1]);
    }

    return(
        <div>
            <button onClick={consoleTest} > Test </button>
        </div>
    );
}
```

<br>

### ğŸ˜ ì¡°ê¸ˆ ì§‘ì°©í•´ë³´ë©´
```javascript
//react.development.js
function useState(initialState) {
  var dispatcher = resolveDispatcher(); // resolveDispatcher()ë¥¼ í˜¸ì¶œ, dispatcher ë°˜í™˜ 
  return dispatcher.useState(initialState); // dispatcherì— useState í”„ë¡œí¼í‹° ì¶”ê°€, ì´ˆê¸°ê°’ ì§€ì •
}
```
- `REACT PROJECT/node_modules/react/cjs/react.development.js/function useState` 
- `useState` í•¨ìˆ˜ì˜ ì„ ì–¸ë¶€ë¥¼ ì°¾ì•„ì™€ë³´ë‹ˆ `resolveDispatcher()`ë¼ëŠ” í•¨ìˆ˜ê°€ ë“±ì¥í–ˆë‹¤. ì–´ë–¤ ì—­í• ì¼ê¹Œ? ì„ ì–¸ë¶€ ì°¾ì•„ê°€ë³´ì
- [ì°¸ê³ ] ì„ ì–¸ë¶€ ì°¾ì•„ê°€ëŠ” ë²•: í•¨ìˆ˜ í˜¸ì¶œ ìœ„ì¹˜ì—ì„œ ìš°í´ë¦­-Go Definition ì„ íƒ

```javascript
function resolveDispatcher() {
  var dispatcher = ReactCurrentDispatcher.current;
  {
    if (dispatcher === null) {
      error('Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for' + ' one of the following reasons:\n' + '1. You might have mismatching versions of React and the renderer (such as React DOM)\n' + '2. You might be breaking the Rules of Hooks\n' + '3. You might have more than one copy of React in the same app\n' + 'See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.');
    }
  } // Will result in a null access error if accessed outside render phase. We
  // intentionally don't throw our own error because this is in a hot path.
  // Also helps ensure this is inlined.

  return dispatcher;
}
```
- `resolveDispatcher()`ëŠ” dipatcherë¼ëŠ” ë³€ìˆ˜ë¥¼ returní•œë‹¤
- dispatcher ë³€ìˆ˜ëŠ” `ReactCurrentDispatcher.current` ë¥¼ í†µí•´ ì§„í–‰í•œë‹¤
- ê·¸ë¦¬ê³  ë§Œì•½ì— dispatcherì˜ ê°’ì´ nullì¸ ê²½ìš°ëŠ” errorë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤€ë‹¤
- `ReactCurrentDispatcher`ì˜ ì„ ì–¸ë¶€ë¡œ ì´ë™í•´ë³´ë„ë¡ í•˜ì

```javascript
var ReactCurrentDispatcher = {
  /**
   * @internal
   * @type {ReactComponent}
   */
  current: null
};
```
- `ReactCurrentDispatcher` ëŠ” ê²°êµ­ Objectì´ê³ , `current`ëŠ” ë‚´ë¶€ì˜ ì†ì„±ì— í•´ë‹¹í•˜ë©° í˜„ì¬ ê°’ì€ nullì´ë‹¤
- [ì°¸ê³ ] https://velog.io/@jjunyjjuny/React-useState%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%8F%99%EC%9E%91%ED%95%A0%EA%B9%8C 

<br>
<br>
<br>
<br>

## ğŸ’¬ 1.8. input ìƒíƒœ ê´€ë¦¬í•˜ê¸°
## ğŸ’¬ 1.9. ì—¬ëŸ¬ê°œì˜ input ìƒíƒœ ê´€ë¦¬í•˜ê¸°
## ğŸ’¬ 1.10. useRef ë¡œ íŠ¹ì • DOM ì„ íƒí•˜ê¸°
## ğŸ’¬ 1.11. ë°°ì—´ ë Œë”ë§í•˜ê¸°
## ğŸ’¬ 1.12. useRef ë¡œ useRef ë¡œ ì»´í¬ë„ŒíŠ¸ ì•ˆì˜ ë³€ìˆ˜ ë§Œë“¤ê¸°
