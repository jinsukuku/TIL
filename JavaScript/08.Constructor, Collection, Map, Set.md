# ğŸ“Œ 4ì¼ì°¨ 
- 2021.09.28(í™”)
- ê°•ì˜ : ìë°”ìŠ¤í¬ë¦½íŠ¸ 35~38
  - ìƒì„±ì (Constructor)
  - Collection
  - Map
  - set
  
<br>

### ğŸ‘‰ ìƒì„±ì (Constructor)
- ìƒì„±ì í•¨ìˆ˜ : ìœ ì‚¬í•œ ê°ì²´ë¥¼ ë‹¤ì¤‘ìœ¼ë¡œ ë§Œë“¤ ë•Œ ì‚¬ìš©ë˜ëŠ” í•¨ìˆ˜ (íƒ€ ì–¸ì–´ì—ì„œì˜ class)
- ì¼ë°˜ì ìœ¼ë¡œ ìƒì„±ì í•¨ìˆ˜ì˜ ì²« ê¸€ìëŠ” ëŒ€ë¬¸ìë¡œ ì‹œì‘í•œë‹¤
- ìƒì„±ì í•¨ìˆ˜ë¡œ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œì—ëŠ” new ì—°ì‚°ìë¥¼ ì‚¬ìš©í•œë‹¤ 
- ìƒì„±ìëŠ” ë¶•ì–´ë¹µ í‹€ì´ê³ , ìœ ì‚¬í•œ ê°ì²´ëŠ” ì•™ê¸ˆì´ë‚˜ ê°€ê²©ì´ ë‹¤ë¥¸ ë¶•ì–´ë¹µì´ë¼ê³  ìƒê°í•˜ì.
```javascript
function FishBread(flavor, price){
  this.flavor = flavor;
  this.price = price;
  this.base = "flour";
}

let bread = FishBread("test", 1200);
let bread1 = new FishBread("cream", 1200);
let bread2 = new FishBread("redbean", 1000);
let bread3 = new FishBread("milk", 1500);

console.log(bread);     // 
console.log(bread1);    // FishBread { flavor: 'cream', price: 1200, base: 'flour' }
console.log(bread2);    // FishBread { flavor: 'redbean', price: 1000, base: 'flour' }
console.log(bread3);    // FishBread { flavor: 'milk', price: 1500, base: 'flour' }
```
- ìœ ì‚¬í•œ ê°ì²´ë¥¼ ìƒì„±ì í•¨ìˆ˜ì™€ `new` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ ë¹ ë¥´ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤
- ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ `new` ì—°ì‚°ìë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ê°ì²´ê°€ ìƒì„±ë˜ì§€ ì•Šê³  `undefined`ë¥¼ ë°˜í™˜í•œë‹¤ 
```javascript
function User(name){
  console.log(new.target);
  this.name = name;
}

// not use new
let res1 = User("jjangu");        // undefined
console.log("res1 :", res1);      // res1 : undefined

// use new
let res2 = new User("yuri");      // [Function: User]
console.log("res2 :", res2);      // res2 : User { name: 'yuri' }
```
- ê°ì²´ ë‚´ë¶€ì ìœ¼ë¡œë„ `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì†ì„±(property)ì´ ì¡´ì¬í•œë‹¤
- `.new.target` ë¥¼ ì‚¬ìš©í•˜ë©´ `new`ì™€ í•¨ê»˜ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤
- ê°ì²´ ë‚´ë¶€ì—ì„œ `.new.target`ì˜ ë°˜í™˜ê°’ì´ `undefined`ì´ë¼ë©´ `new` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•œ ê°ì²´ ìƒì„±ì´ ì•„ë‹˜ì„ ì•Œìˆ˜ìˆë‹¤
- `new`ì™€ í•¨ê»˜ ê°ì²´ë¥¼ ìƒì„±í•œ ê²½ìš°ì—ëŠ” `.new.target`ì€ ê°ì²´ ìƒì„±ì— ì‚¬ìš©ëœ `function`ì— ëŒ€í•´ ë°˜í™˜í•œë‹¤
```javascript
// Boolean(undefined) -> false

function User(name){
  if(!new.target){
    return new User(name);
  }else{
    this.name = name;
  }
}
```
- `new.target`ì˜ ë°˜í™˜ê°’ì— ëŒ€í•œ ì¡°ê±´ë¬¸ì„ ë‘ì–´ `new`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì€ ìƒí™©ì„ ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤
- `new`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ê°ì²´ ë‚´ë¶€ì—ì„œ `new Object(value)`ë¥¼ returní•´ì£¼ì–´ `new` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìœ ë„í•œë‹¤
- `new.target`ì˜ ë°˜í™˜ê°’ì— ë”°ë¥¸ ëŒ€ì‘ì„ í†µí•´ ì¢€ ë” ìœ ì—°í•œ ìƒì„±ì í•¨ìˆ˜ë¥¼ ë§Œë“¤ìˆ˜ìˆë‹¤

<br>

### ğŸ‘‰ Collection
- `Collection` : êµ¬ì¡° ë˜ëŠ” ë¹„êµ¬ì¡°í™” í˜•íƒœë¡œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ ì œê³µí•˜ëŠ” ê°’ì„ ë‹´ì„ ìˆ˜ ìˆëŠ” ê³µê°„ì„ ë§í•œë‹¤ 
- `Collection` ê°ì²´ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ `Iterator`ë¥¼ ê°€ì§€ê³  ìˆë‹¤
- ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” `Collection`ì˜ ì¢…ë¥˜
  - `Indexed Collection` : indexë¥¼ í†µí•´ ê° elementì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” `Collection` (ì˜ˆ) `Array`, `Typed Array`
  - `keyed Collection` : íŠ¹ì • string, ìë£Œí˜•ì„ í†µí•´ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” `Collection` (ì˜ˆ) `Object`, `Map`, `Weak Map`, `Set`, `Weak Set`

<br>

### ğŸ‘‰ Map
- ë‹¤ì–‘í•œ ìë£Œí˜•ì˜ keyë¥¼ í—ˆìš©í•˜ê³ , key-value í˜•íƒœì˜ ìë£Œí˜•ì„ ì €ì¥í•  ìˆ˜ ìˆëŠ” Collection ì„ ë§í•œë‹¤
- Mapì€ Objectë³´ë‹¤ ë‹¤ì–‘í•œ keyì˜ ì‚¬ìš©ì„ í—ˆìš©í•œë‹¤
- ê°’ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•  ë•Œì—ëŠ” ì •í•´ì§„ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤
- ëŒ€í‘œì ì¸ ì†ì„±(property) ë° ë©”ì„œë“œ(method)
  - ìƒì„±ì : `new Map()`
  - ê°œìˆ˜ í™•ì¸ : `Map.size`
  - ìš”ì†Œ ì¶”ê°€ : `Map.set(key,value)`
  - ìš”ì†Œ ì ‘ê·¼ : `Map.get(key)`
  - ìš”ì†Œ ì‚­ì œ : `Map.delete(key)`
  - ì „ì²´ ì‚­ì œ : `Map.clear()`
  - ìš”ì†Œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ : `Map.has(key)`
  - ê·¸ ë°–ì˜ ë©”ì„œë“œ : `Map.keys()`, `Map.values()`, `Map.entires()`
```javascript
let map = new Map();
  
map.set("name", "jjangu");        // string key
map.set(123, 456);                // number key
map.set(true, "bool");            // boolean key
```
- ë‹¤ì–‘í•œ ìë£Œí˜•ì„ keyë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ 
```javascript
console.log(map);                 // Map(3) { 'name' => 'jjangu', 123 => 456, true => 'bool' }
console.log(map.get(123));        // 456
console.log(map.get("name"));     // jjangu
console.lgo(map.size);            // 3

map.clear();
console.log(map);                 // Map(0) { }
```
- ìš”ì†Œ ì¶”ê°€ : `Map.set(key,value)`
- ìš”ì†Œ ì ‘ê·¼ : `Map.get(key)`
- ìš”ì†Œ ì‚­ì œ : `Map.delete(key)`
- ì „ì²´ ì‚­ì œ : `Map.clear()`
- í¬ê¸° í™•ì¸ : `Map.size`
```javascript
map.set("name", "yuri").set(456, 123).set(false, "boolean");
console.log(map);
/*
Map(5) {
  'name' => 'yuri',
  123 => 456,
  true => 'bool',
  456 => 123,
  false => 'boolean'
} */
```
- `map.set` í˜¸ì¶œ ì‹œ mapì´ ë°˜í™˜ë˜ë¯€ë¡œ ì²´ì´ë‹(chaining)ì´ ê°€ëŠ¥í•˜ë‹¤
- [ì°¸ê³ ] ì²´ì´ë‹(chaining) : ìš”ì†Œì— ë©”ì„œë“œë¥¼ ì—°ì†ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, í˜•íƒœê°€ ë§ˆì¹˜ ì²´ì¸ì´ ì—®ì¸ ëª¨ì–‘ê³¼ ê°™ì•„ ì²´ì´ë‹ ê¸°ë²•ì´ë¼ê³  ë§í•œë‹¤ 
```javascript
let recipe = new Map([
  ["apple", 50],
  ["banana", 100],
  ["ice", 150]
]);

for (let item of recipe.keys()) console.log(item);              // apple banana ice
for (let amount of recipe.values()) console.log(amount);        // 50 100 150
for (let enitity of recipe) console.log(enitity);               // [ 'apple', 50 ] [ 'banana', 100 ] [ 'ice', 150 ]

console.log(recipe);              // Map(3) { 'apple' => 50, 'banana' => 100, 'ice' => 150 }
console.log(recipe.entries());    // [Map Entries] { [ 'apple', 50 ], [ 'banana', 100 ], [ 'ice', 150 ] }
```
- `Map.keys()` : `Map` ê°ì²´ì˜ `key` ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜ 
- `Map.values()` : `Map` ê°ì²´ì˜ `value` ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜ 
- `Map.entires()` : `Map` ê°ì²´ì˜ `key`ì™€ `value`ë¥¼ `key-value`í˜•íƒœë¡œ ë°˜í™˜ 
- `Collection` ê°ì²´ì¸ `Map`ì€ `Iterator` ì†ì„±ì„ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ, for-ofë¬¸ì„ í†µí•œ ë°˜ë³µë¬¸ ìˆ˜í–‰ì´ ê°€ëŠ¥í•˜ë‹¤
- [ì°¸ê³ ] `Iterator` :  ê°ì²´ ì§€í–¥ì  í”„ë¡œê·¸ë˜ë°ì—ì„œ ë°°ì—´ì´ë‚˜ ê·¸ì™€ ìœ ì‚¬í•œ ìë£Œ êµ¬ì¡°ì˜ ë‚´ë¶€ì˜ ìš”ì†Œë¥¼ ìˆœíšŒ(traversing)í•˜ëŠ” ê°ì²´ (<a href="https://ko.wikipedia.org/wiki/%EB%B0%98%EB%B3%B5%EC%9E%90">ìœ„í‚¤ë°±ê³¼</>)
```javascript
let recipe = new Map([
  ["apple", 50],
  ["banana", 100],
  ["ice", 150]
]);

let recipe_obj = Object.fromEntries(recipe);    // Map â†’ Object
let recipe_kv = Object.entries(recipe_obj);     // Object â†’ Entris
let recipe_map = new Map(recipe_kv);            // Entrisì„ ì‚¬ìš©í•´ Map ê°ì²´ ìƒì„±
```
```javascript
console.log(recipe_obj);        // { apple: 50, banana: 100, ice: 150 }
console.log(recipe_kv);         // [ [ 'apple', 50 ], [ 'banana', 100 ], [ 'ice', 150 ] ]
console.log(recipe_map);        // Map(3) { 'apple' => 50, 'banana' => 100, 'ice' => 150 }
```
- `Object.entries(Object)`, `Object.fromEntries(Map)` ë¥¼ ì‚¬ìš©í•´ `Map`ê³¼ `Object` ê°„ì˜ ë³€í™˜ì´ ê°€ëŠ¥í•˜ë‹¤ 
- `Object.fromEntries(Map)` : `Map`ì„ `Object`ë¡œ ë³€í™˜í•  ë•Œ ì‚¬ìš© 
- `Object.entries(Object)`  : `Object`ì˜ `key-value`ë¥¼ ë°°ì—´ í˜•íƒœë¡œ ë³€í™˜
- `new Map(Array)` : `Array`ì— ì €ì¥ëœ `key-value`ë¥¼ ì‚¬ìš©í•´ `Map`ê°ì²´ ìƒì„± 

<br>

### ğŸ‘‰ Set
- value ë§Œì„ ì €ì¥í•˜ë©°, ì¤‘ë³µì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ” `Collection`
- ëŒ€í‘œì ì¸ ì†ì„±(property)ê³¼ ë©”ì„œë“œ(method)
  - ìƒì„±ì : `new Set()`
  - ê°œìˆ˜ í™•ì¸ : `Set.size()`
  - ìš”ì†Œ ì¶”ê°€ : `Set.add(value)`
  - ìš”ì†Œ ì‚­ì œ : `Set.delete(Set)`
  - ì „ì²´ ì‚­ì œ : `Set.clear()`
  - ìš”ì†Œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ : `Set.has(key)`
  - ê·¸ ë°–ì˜ ë©”ì„œë“œ : `Set.keys()`, `Set.values()`, `Set.entires()`
```javascript
let set = new Set();
let num = new Set([1, 2, 3, 4, 5]);
let str = new Set("Hello!");

console.log(set);   // Set(0) {}
console.log(num);   // Set(5) { 1, 2, 3, 4, 5 }
console.log(str);   // Set(5) { 'H', 'e', 'l', 'o', '!' }
```
- ë‹¤ì–‘í•œ ìë£Œí˜•ì„ valueë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë©° ì¤‘ë³µë˜ëŠ” valueëŠ” í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤

```javascript
let set = new Set();

// add
set.add(1).add(1).add(10).add(20);    
console.log(set);            // Set(3) { 1, 10, 20 }

// delete
set.delete(1);                         
set.delete(-1);                       
console.log(set);            // Set(2) { 10, 20 }

// has
console.log(set.has(10));    // true
console.log(set.has(-10));   // false 

// clear
set.clear();                                          
console.log(set);            // Set(0) {}
```
- ìš”ì†Œ ì¶”ê°€ : `Set.add(value)`
- ìš”ì†Œ ì‚­ì œ : `Set.delete(Set)`
- ì „ì²´ ì‚­ì œ : `Set.clear()`
- ìš”ì†Œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ : `Set.has(key)`
- `set.add` í˜¸ì¶œì‹œì—ëŠ” `set`ì„ ë°˜í™˜í•˜ë¯€ë¡œ, ì²´ì´ë‹(chaining)ì´ ê°€ëŠ¥í•˜ë‹¤ 
```javascript
let str = new Set("Hello!");

console.log(str);                                       // Set(5) { 'H', 'e', 'l', 'o', '!' }
console.log(str.keys());                                // [Set Iterator] { 'H', 'e', 'l', 'o', '!' }
console.log(str.values());                              // [Set Iterator] { 'H', 'e', 'l', 'o', '!' }
console.log(str.entries());
// [ 'H', 'H' ] [ 'e', 'e' ] [ 'l', 'l' ] [ 'o', 'o' ] [ '!', '!' ]

for (let item of str) console.log(item);                // H e l o !
for (let item of str.keys()) console.log(item);         // H e l o !
for (let item of str.values()) console.log(item);       // H e l o !
for (let item of str.entries()) console.log(item);      
// [ 'H', 'H' ] [ 'e', 'e' ] [ 'l', 'l' ] [ 'o', 'o' ] [ '!', '!' ]
```
- `Collection` ê°ì²´ì¸ `Set`ì€ `Iterator` ì†ì„±ì„ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ, for-ofë¬¸ì„ í†µí•œ ë°˜ë³µë¬¸ ìˆ˜í–‰ì´ ê°€ëŠ¥í•˜ë‹¤
- `Collection` ì—ëŠ” valueë§Œ ì¡´ì¬í•˜ê³  keyê°€ ì—†ê¸° ë•Œë¬¸ì—, `set.values()`ì™€ `set.keys()`ì˜ ê²°ê³¼ê°’ì´ ë™ì¼í•˜ë‹¤ 
- `set.entries()`ì€ ë§ˆì¹˜ `key-value`ì˜ í˜•íƒœë¡œ ë°˜í™˜ë˜ëŠ”ë°, ì´ëŠ” `Map`ê³¼ì˜ í˜¸í™˜ì„±ì„ ìœ„í•¨ì´ë‹¤ 
- ê²°êµ­ì€ `set.keys()`ì™€ `set.value()`ê°€ ê°’ì€ ê²°ê³¼ë¥¼ í˜¸ì¶œí•œë‹¤